<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <title>Clean Blog - Full Stack Cloud Developer</title>
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
  <!-- Font Awesome icons (free version)-->
  <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
  <!-- Google fonts-->
  <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet"
    type="text/css" />
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
    rel="stylesheet" type="text/css" />
  <!-- Core theme CSS (includes Bootstrap)-->
  <link href="css/styles.css" rel="stylesheet" />

  <script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/paragraph"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/simple-image-editorjs"></script> -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/@editorjs/simple-image"></script> -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/@editorjs/image"></script> -->
  <!-- <script src="simple-image.js"></script>
  <link href="simple-image.css" rel="stylesheet" /> -->
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/checklist"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/code"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/delimiter"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/embed"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/header"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/@editorjs/image"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/inline-code"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/marker"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/nested-list"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/quote"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/raw"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/table"></script>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/warning"></script>
  <script src="https://cdn.jsdelivr.net/npm/editorjs-undo"></script>
  <script src="https://cdn.jsdelivr.net/npm/editorjs-drag-drop"></script>
  <script src="https://cdn.jsdelivr.net/npm/editorjs-text-alignment-blocktune"></script>

  <style>
    .ce-block__content,
    .ce-toolbar__content {
      max-width: unset;
    }

    .ce-toolbar__actions {
      right: auto !important;
      left: -1px !important;
      top: 28px !important;
      background: rgba(255, 255, 255, 1) !important;
      border-radius: 8px !important;
      border: solid 1px rgba(232, 232, 235, 1) !important;
      box-shadow: 1px 4px 12px 0px rgba(0, 0, 0, 0.1) !important;
      padding-right: 0px !important;
      opacity: 80%;
    }

    .tc-table {
      border: 1px solid var(--color-border);
    }

    .tc-add-column {
      border-top: none;
    }

    .tc-row:after {
      border-bottom: none;
    }

    .tc-table--heading .tc-row:first-child:after {
      border-bottom: none;
    }

    .cdx-simple-image__picture--stretched img,
    .simple-image.stretched img {
      display: unset;
      margin: unset;
      margin-bottom: 10px;
      width: 60%;
    }

    .cdx-input.cdx-simple-image__caption {
      display: none;
    }

    #title,
    #subtitle,
    #author {
      outline: none;
    }
  </style>
</head>

<body>
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
    <div class="container px-4 px-lg-5">
      <a class="navbar-brand" href="index.html">Full Stack Cloud Developer</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
        aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ms-auto py-4 py-lg-0">
          <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="about.html">About</a></li>
          <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- Page Header-->
  <header class="masthead">
    <div class="container position-relative px-4 px-lg-5">
      <div class="row gx-4 gx-lg-5 justify-content-center">
        <div class="col-md-10 col-lg-8 col-xl-7">
          <div class="post-heading">
            <h1 id="title"></h1>
            <h2 id="subtitle" class="subheading"></h2>
            <span class="meta">
              Posted by
              <a id="author" href="#!"></a>
              on <span id="created"></span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </header>
  <!-- Post Content-->
  <article class="mb-4">
    <div class="container px-4 px-lg-5">
      <div class="row gx-4 gx-lg-5 justify-content-center">
        <div id="editorjs" class="col-md-10 col-lg-8 col-xl-7">
        </div>
      </div>
    </div>
    <!-- Footer-->
    <footer class="border-top">
      <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
            <ul class="list-inline text-center">
              <li class="list-inline-item">
                <a href="#!">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#!">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#!">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
            </ul>
            <div class="small text-center text-muted fst-italic">Copyright &copy; Your Website 2023</div>
          </div>
        </div>
      </div>
    </footer>

  </article>
  <!-- Bootstrap core JS-->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Core theme JS-->
  <script src="js/scripts.js"></script>
  <script>
    const editor = new EditorJS({
      autofocus: true,
      placeholder: 'Type text or paste a link',
      tools: {
        header: {
          class: Header,
          inlineToolbar: ['link', 'marker'],
          tunes: ['anyTuneName']
        },
        paragraph: {
          class: Paragraph,
          inlineToolbar: true,
          tunes: ['anyTuneName']
        },
        // image: {
        //   class: SimpleImage,
        //   inlineToolbar: true,
        //   config: {
        //     placeholder: 'Paste image URL'
        //   },
        //   tunes: ['anyTuneName']
        // },
        list: {
          class: NestedList,
          inlineToolbar: true
        },
        code: {
          class: CodeTool,
          shortcut: 'CMD+SHIFT+D'
        },
        quote: {
          class: Quote,
          inlineToolbar: true,
        },
        delimiter: Delimiter,
        embed: Embed,
        table: {
          class: Table,
          inlineToolbar: true
        },
        raw: RawTool,
        inlineCode: {
          class: InlineCode,
          shortcut: 'CMD+SHIFT+C'
        },
        marker: {
          class: Marker,
          shortcut: 'CMD+SHIFT+M'
        },
        warning: Warning,
        checklist: Checklist,
        anyTuneName: {
          class: AlignmentBlockTune,
          config: {
            default: 'left',
            blocks: {
            }
          }
        }
      },
      defaultBlock: 'paragraph',
      onReady: () => {
        setTimeout(() => {
          new Undo({ editor });
          new DragDrop(editor);

          (async () => {
            if (window.location.hash) {
              const link = window.location.hash.substring(1);
              const response = await fetch(`content/${link}.json`);
              const text = await response.text();
              const data = JSON.parse(text);

              document.getElementById("title").innerText = data.title;
              document.getElementById("subtitle").innerText = data.subtitle;
              document.getElementById("author").innerText = data.author;
              document.getElementById("created").innerText = getFormattedDate(+data.created);

              await editor.render(data.content);

              if (data.properties["background-image"]) {
                document.querySelector("header.masthead").style.backgroundImage = `url(${data.properties["background-image"]})`;
              } else {
                 document.querySelector("header.masthead").style.backgroundImage = "url(assets/img/default.jpg)";
              }
              editor.readOnly.toggle(true);

              document.getElementById('editorjs').editor = editor;
            }
          })();

        }, 200);
      }
    });
  </script>


  <script>
    const getFormattedDate = function (created) {
      const date = new Date(created);
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      return date.toLocaleDateString("en-US", options);
    };
  </script>
</body>

</html>
